namespace Football;



public class Ball
{
    // Координата X мяча (только для чтения извне, может изменяться внутри класса)
    public double X { get; private set; }

    // Координата Y мяча (только для чтения извне, может изменяться внутри класса)
    public double Y { get; private set; }

    // Приватные переменные для хранения скорости мяча по X и Y
    private double _vx, _vy;

    // Приватная ссылка на объект игры, в которой участвует мяч.
    private Game _game;

    // Конструктор, который инициализирует мяч с начальной позицией и привязывает его к игре
    public Ball(double x, double y, Game game)
    {
        // Сохраняем ссылку на игру, чтобы мяч знал, на каком стадионе он находится
        _game = game;

        // Устанавливаем начальные координаты мяча
        X = x;
        Y = y;
    }

    // Метод для задания скорости мяча.
    public void SetSpeed(double vx, double vy)
    {
        // Сохраняем новые значения скорости мяча по осям X и Y
        _vx = vx;
        _vy = vy;
    }

    // Метод для перемещения мяча по полю с учётом его скорости
    public void Move()
    {
        // Рассчитываем новые координаты мяча, добавляя скорость к текущим координатам
        double newX = X + _vx;
        double newY = Y + _vy;

        // Проверяем, находится ли мяч в пределах стадиона после перемещения
        if (_game.Stadium.IsIn(newX, newY))
        {
            // Если мяч в пределах стадиона, обновляем его координаты
            X = newX;
            Y = newY;
        }
        else
        {
            // Если мяч вышел за пределы стадиона, останавливаем его, обнулив скорость
            _vx = 0;
            _vy = 0;
        }
    }

}
